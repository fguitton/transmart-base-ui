
<div  id="sidebardiv"
      class="col-sm-3 col-md-2 sidebar"
      ng-controller="SidebarCtrl">

  <!-- START STUDIES -->
  <accordion close-others="status.oneAtATime">

    <accordion-group  heading="Highlights"
                      is-open="true"
                      ng-if="false">
      <span ng-if="publicStudies.length == 0 && privateStudies.length == 0">
        No studies loaded.
      </span>
      <span ng-if="publicStudies.length > 0 || privateStudies.length > 0">
        Browse studies by clicking the study headers below.
      </span>
    </accordion-group>

    <study-accordion  acc-studies="publicStudies"
                      acc-title="'Public studies'"
                      study-action="displayStudySummaryStatistics"
                      ng-if="publicStudies.length > 0">
    </study-accordion>

    <hr>

    <study-accordion  acc-studies="privateStudies"
                      acc-title="'Private studies'"
                      study-action="displayStudySummaryStatistics"
                      ng-if="privateStudies.length > 0">
    </study-accordion>

    <hr>

    <accordion-group  heading="Add Endpoint" is-open="endpointTabOpen">

      <h5 ng-repeat="endpoint in endpoints">
        <i class="glyphicon"
              ng-class="{'glyphicon-ok': endpoint.status == 'local',
                          'glyphicon-ok success-color': endpoint.status == 'success',
                          'glyphicon-remove': endpoint.status == 'error'}">
        </i>
        <a tooltip="{{endpoint.url}}" >
          {{endpoint.title}} <small>{{endpoint.expiresAt | date:'dd-M H:mm'}}</small>
        </a>
      </h5>

      <div class="form-actions">
        <form name="formData.endpointForm"
              ng-submit="addResource()"
              role="form">

      <form name="formData.endpointForm"
            role="form">
        <div class="input-group form-group">
          <div class="input-group-btn dropdown" dropdown>
            <button type="button"
                    class="btn btn-default dropdown-toggle btn-sm"
                    dropdown-toggle>
                Defaults
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li><a href="#" ng-click="populateDefaultApi('transmart-demo', 'http://transmart-demo.thehyve.net/transmart')">transmart-demo</a></li>
              <li><a href="#" ng-click="populateDefaultApi('transmart-gb', 'http://transmart-gb.thehyve.net/transmart')">transmart-gb</a></li>
            </ul>
          </div>
          <input  type="text"
                  class="form-control input-sm"
                  placeholder="Title"
                  ng-model="formData.title">
        </div>
        <div class="form-group">
          <input  type="text"
                  class="form-control input-sm"
                  placeholder="Endpoint url"
                  ng-model="formData.url">
        </div>
        <div class="form-group">
          <button type="button"
                  class="form-control btn btn-default"
                  ng-click="navigateToAuthorizationPage()">
                  Get request token
          </button>
        </div>
        <div class="form-group">
          <input  type="text"
                  class="form-control input-sm"
                  placeholder="Request token"
                  ng-model="formData.requestToken">
        </div>

        <button type="submit" class="btn btn-primary btn-sm" ng-click="addResource()">
          Save
        </button>
        <button class="btn btn-default btn-sm" ng-click="clearSavedEndpoints()">
          Clear saved
        </button>

        </div>
      </form>

    </accordion-group>
  </accordion>
</div>
  <!--end tree-->
<br>
